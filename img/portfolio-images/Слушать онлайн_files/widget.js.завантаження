if(!ticketsteam){var ticketsteam={};ticketsteam.width=945;ticketsteam.height=600;ticketsteam.utm_check=false}ticketsteam.stop=false;ticketsteam.id="";ticketsteam.run=function(g,a){var c=ticketsteam.get_cookie("ticketsteamUTM");if(c!=undefined){g+="?"+ticketsteam.base64_decode(c)}if(ticketsteam.is_mobile()){window.open(a+"/app/"+g);return false}var d=document.createElement("div");ticketsteam.id="TSWidget"+Math.floor(Math.random()*1000);d.id=ticketsteam.id;var b=document.body.clientWidth,h=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,e="",i="";if(b<ticketsteam.width||h<ticketsteam.height){e="top:0;left:0;width:100%;height:100%;";i="top:5px;right:5px;"}else{if(b>ticketsteam.width+80&&h>ticketsteam.height+50){var f=b-80;if(f>1230){f=1230}e="top:20px;left:"+((b-f)/2)+"px;width:"+f+"px;height:"+(h-50)+"px;";i="top:10px;right:"+((b-f)/2-30)+"px;"}else{e="top:20px;left:50%;margin-left:-"+(ticketsteam.width/2)+"px;width:"+ticketsteam.width+"px;height:"+ticketsteam.height+"px;";i="top:10px;left:50%;margin-left:"+(ticketsteam.width/2+20)+"px;"}}d.innerHTML='<div style="opacity:.7;background:#2e2f2f;height:100%;left:0;position:fixed;top:0;width:100%;z-index:1000;"></div><img src="'+a+'/images/close-widget.png" onclick="ticketsteam.close();" style="'+i+'display:none;width:21px;height:21px;position:fixed;cursor:pointer;z-index:1200;"><img src="'+a+'/images/loader-widget.svg" style="width:64px;height:64px;position:fixed;top:50%;left:50%;margin:-32px 0 0 -32px;z-index:1050;"><iframe onload="ticketsteam.load();" src="'+a+"/app/"+g+'" scrolling="yes" frameborder="0" style="'+e+'opacity:0;position:fixed;z-index:1100;overflow:hidden;border:0;background:#fff;"></iframe>';document.body.appendChild(d);return false};ticketsteam.is_mobile=function(){return/android|iphone|ipad|ipod/i.test(navigator.userAgent.toLowerCase())};ticketsteam.load=function(){if(ticketsteam.stop){return}var d=document.getElementById(ticketsteam.id);var e=d.getElementsByTagName("iframe");for(var b=0;b<e.length;b++){e[b].style.opacity=1}var a=d.getElementsByTagName("img");for(var c=0;c<a.length;c++){if(c==0){a[c].addEventListener("touchstart",function(){ticketsteam.close()},false)}a[c].style.display="block"}ticketsteam.stop=true};ticketsteam.close=function(){var a=document.getElementById(ticketsteam.id);a.parentNode.removeChild(a);ticketsteam.stop=false};ticketsteam.button=function(f){var e=f.getAttribute("data-key"),b=f.getAttribute("data-color"),c=f.getAttribute("src"),d=document.createElement("div");d.innerHTML=f.getAttribute("data-text");d.classList.add("widget-ts-button");if(b==null){b="black"}d.classList.add(b);c=c.split("/js/widget.js");d.addEventListener("click",function(){ticketsteam.run(e,c[0])},false);var a=f.parentNode;a.insertBefore(d,f);a.removeChild(f)};ticketsteam.css=function(d){var a=d.getAttribute("src").replace(/\/js\/widget.js/g,"/css/widget.css"),b=document.getElementsByTagName("head")[0],c=document.createElement("link");c.id="TSWidgetCSS";c.rel="stylesheet";c.type="text/css";c.href=a;b.appendChild(c)};ticketsteam.set_cookie=function(a,b){document.cookie=a+"="+encodeURIComponent(b)+"; path=/"};ticketsteam.get_cookie=function(a){var b=document.cookie.match(new RegExp("(?:^|; )"+a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return b?decodeURIComponent(b[1]):undefined};ticketsteam.get_param=function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c=new RegExp("[\\?&]"+a+"=([^&#]*)"),b=c.exec(location.search);return b==null?undefined:decodeURIComponent(b[1].replace(/\+/g," "))};ticketsteam.base64_encode=function(d){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var c="";var l,j,g;var k,h,f,e;for(var b=0;b<d.length;){l=d.charCodeAt(b++);j=d.charCodeAt(b++);g=d.charCodeAt(b++);k=l>>2;h=((l&3)<<4)|(j>>4);f=isNaN(j)?64:(((j&15)<<2)|(g>>6));e=isNaN(g)?64:(g&63);c+=a.charAt(k)+a.charAt(h)+a.charAt(f)+a.charAt(e)}return c};ticketsteam.base64_decode=function(d){var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var a="";var l,j,g;var k,h,f,e;d=d.replace(/[^a-z0-9\+\/\=]/gi,"");for(var c=0;c<d.length;){k=b.indexOf(d.charAt(c++));h=b.indexOf(d.charAt(c++));f=b.indexOf(d.charAt(c++));e=b.indexOf(d.charAt(c++));l=(k<<2)|(h>>4);j=((h&15)<<4)|(f>>2);g=((f&3)<<6)|e;a=a+String.fromCharCode(l);if(f<64){a+=String.fromCharCode(j)}if(e<64){a+=String.fromCharCode(g)}}return a};ticketsteam.init=function(){if(!ticketsteam.utm_check){var c=ticketsteam.get_param("utm_source");if(c!=undefined){var d=[];d.push("utm_source="+c);c=ticketsteam.get_param("utm_medium");if(c!=undefined){d.push("utm_medium="+c)}c=ticketsteam.get_param("utm_campaign");if(c!=undefined){d.push("utm_campaign="+c)}ticketsteam.set_cookie("ticketsteamUTM",ticketsteam.base64_encode(d.join("&")))}ticketsteam.utm_check=true}var a=document.getElementsByTagName("script");for(var b=0;b<a.length;b+=1){if(a[b].getAttribute("data-type")=="TSWidget"){if(!document.getElementById("TSWidgetCSS")){ticketsteam.css(a[b])}ticketsteam.button(a[b])}}};ticketsteam.init();